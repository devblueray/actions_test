name: QA Preview Environment
on: 
  workflow_dispatch:
    inputs:
      version:
        description: "Hash to deploy"
        required: true
      depname:
        description: "Deployment Name"
        required: false
        default: 'ssm'
jobs: 
  deploy:
    runs-on: ubuntu-latest
    steps: 
      - name: Set namespace to provided
        run: echo "NAMESPACE=${{ github.events.inputs.depname }}" >> $GITHUB_ENV
        if: ${{ github.events.inputs.depname != 'ssm' }}
      - name: Get tag 
        run: echo "NAMESPACE=$(echo v${GITHUB_SHA} | fold -w 4 | head -n 1)" >> $GITHUB_ENV
        if: ${{ github.events.inputs.depname == 'ssm' }}
      - name: Print Namespace
        run: echo ${{env.NAMESPACE}}
